import App from '../page-objects/App'
import LoginPage from '../page-objects/pages/LoginPage'
import Navbar from '../page-objects/components/Navbar'
describe('E2e Tests - Currency Exchange', () => {
    it('Should log into application', () => {
        // browser.url('http://zero.webappsecurity.com/')
        // $('#signin_button').waitForExist()
        // $('#signin_button').click()
        App.openLoginPage()
        // $('#login_form').waitForExist()
        LoginPage.formIsVisible()
        // $('#user_login').setValue('username')
        // $('#user_password').setValue('password')
        LoginPage.fillForm('username', 'password')
        // $('input[type= "submit"]').waitForExist()
        // $('input[type= "submit"]').click()
        LoginPage.submitForm()
        // $('.nav-tabs').waitForExist()
        Navbar.insideNavbarIsVisible()

    })
    it('Should make currency exchange', () => {
        const payBill= $('#pay_bills_tab')
        payBill.waitForExist()
        payBill.click()
        const foreignCurrency = $('a[href = "#ui-tabs-3"]')
        foreignCurrency.waitForExist()
        foreignCurrency.click()
        const selectOneDrop= $('#pc_currency')
        selectOneDrop.waitForExist()
        selectOneDrop.selectByAttribute('value', 'GBP')
        const ammount=$('#pc_amount')
        ammount.waitForExist()
        ammount.setValue('1000')
        const usRadio= $('#pc_inDollars_true')
        usRadio.waitForExist()
        usRadio.click()
        const purchaseBtn = $('#purchase_cash')
        purchaseBtn.waitForExist()
        purchaseBtn.click()
        const successAlert= $('#alert_content')
        successAlert.waitForExist()
        expect(successAlert).toHaveText('Foreign currency cash was successfully purchased.')

    })
})